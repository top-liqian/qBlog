# 工程化相关的面试题

## 1. 什么是前端工程化？

以前端的视角与前端能力去完成软件工程的一个实战，并将前端工程方法系统化的应用在前端开发中（也就是实际的落地），以工程方法（系统、严谨、可量化的方法）开发、运营和维护前端应用程序，基于业务诉求，梳理出最符合当前需要的架构设计

目前我是做了技改的owner负责人，从业务视角对前端工程化进行了划分和整合，针对当前公司的业务场景做了以下的划分：

1. 提取公共配置设计了针对vue3业务场景的脚手架，其中包括（待整理）
2. 将公共组件库划分为两大部分：UI类公共组件库、业务功能组件库、大屏组件库、低代码平台系统前台展示库，地图库
3. 引用开源框架wujie作为此次技改的技术支撑，为更换技术栈新老业务代码可以并存提供基础
4. 封装公共主应用以供业务场景支撑，并抽离出公共配置项以供其他两条业务线后续快速接入做准备
5. 抽离出公共业务微服务支持定制，做业务侧支撑
6. 每一个大的功能类别划分为一个工程，支持打包售卖，业务粒度扩大，更适合定制地方部署场景

## 2. 前端工程化发展史

1. 前后端分离： B/S架构兴起，有了前后端之分
2. 模块化：模块复用
3. 自动化：前端框架，自动化，构建系统（webpack）
4. 最佳实践： 开箱即用dva
5. vite, esm, wasm, 低代码能力

## 3. 如何设计一个脚手架

主要是分为3方面：准备阶段、开发阶段以及发布流程阶段

准备阶段：
  + 技术选型：首先要对公司业务进行技术选型，考虑到既有人员技术栈以及即往项目技术栈的基础，我们采取 vue3全家桶 的技术栈
  + 资源划分：项目的初始资源划分为：埋点、地图、UI组件库的代码植入
  + 打包构建在无性能瓶颈的前提下采用vue-cli的构建方法

开发阶段：
  + 制定开发模式，微前端子应用可以实现独立运行，具备代码植入
  + 本地mock服务，提取公共的接口服务
  + 单元测试 + e2e测试

发布流程
  + git commit规范
  + changeLog规范
  + 打包构建
  + 部署验收

## 4. 前端构建工具发展史

1. 09年

## 5. 前端模块化成熟的方案

1. CommonJS，它通过 require 来引入模块，通过 module.exports 定义模块的输出接口。这种模块加载方案是服务器端的解决方案，它是以同步的方式来引入模块的，因为在服务端文件都存储在本地磁盘，所以读取非常快，所以以同步的方式加载没有问题。但如果是在浏览器端，由于模块的加载是使用网络请求，因此使用异步加载的方式更加合适。
2. AMD，这种方案采用异步加载的方式来加载模块，模块的加载不影响后面语句的执行，所有依赖这个模块的语句都定义在一个回调函数里，等到加载完成后再执行回调函数。require.js 实现了 AMD 规范
3. CMD，这种方案和 AMD 方案都是为了解决异步模块加载的问题，sea.js 实现了 CMD 规范。它和require.js的区别在于模块定义时对依赖的处理不同和对依赖模块的执行时机的处理不同。
4. ES6 提出的方案，使用 import 和 export 的形式来导入导出模块

## 1. js 代码压缩 minify 的原理是什么

通过 AST 分析，根据选项配置一些策略，来生成一颗更小体积的 AST 并生成代码。

目前前端工程化中使用 terser (opens new window)和 swc (opens new window)进行 JS 代码压缩，他们拥有相同的 API。

常见用以压缩 AST 的几种方案如下:

1. 去除多余字符: 空格，换行及注释，一般来说中文会占用更大的空间，多余的空白字符会占用大量的体积，如空格，换行符，另外注释也会占用文件体积。当我们把所有的空白符合注释都去掉之后，代码体积会得到减少
2. 压缩变量名：变量名，函数名及属性名，缩短变量的命名也需要 AST 支持，不至于在作用域中造成命名冲突。
3. 解析程序逻辑: 编译预计算

## 2. performance API 中什么指标可以衡量首屏时间

window.performance.timing

## 3. 